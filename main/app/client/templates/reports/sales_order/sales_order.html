<template name="SalesOrder">
    <div class="container-fluid">
        <section class="row content-header z_index_99">
            <div class="container-fluid ">
                <div class="col-sm-8 text-nowrap">
                    <h1 class="pull-left">
                        Sales Orders Report by
                    </h1>
                    <form role="search" style="display: inline-block;padding-top: 20px;max-width:300px;">
                        <div class="form-group select_type">
                            <div class="col-sm-12">
                                <select class="form-control" name="selectReportType">
                                    {{#each reportTypes}}
                                    <option value="{{this}}">&nbsp;&nbsp;&nbsp;{{this}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</option>
                                    {{/each}}
                                </select>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="col-md-4 hidden-xs hidden-sm hidden-md">
                    <ol class="breadcrumb">
                        <li><a href="{{pathFor 'home'}}"><i class="glyphicon icon-orderslist"></i>Home</a></li>
                        <li><a href="{{pathFor 'reports.home'}}">Reports</a></li>
                        <li class="active">Sales Orders</li>
                    </ol>
                </div>
            </div>
        </section>
        <div class="col-sm-12 sales">
            <section class="content not_margin_head">
                <div class="container-fluid bg_white">
                    <form class="">
                        <div class="row">
                            <div class="col-lg-12 bg_white ptop30 mb">
                            <!--
                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label class="text-muted">Report Type</label>
                                        {{#selectpicker}}
                                            <select class="form-control selectpicker" data-live-search="true" name="selectReportType">
                                                {{#each reportTypes}}
                                                  <option value="{{this}}">{{this}}</option>
                                                {{/each}}
                                            </select>
                                        {{/selectpicker}}
                                    </div>
                                </div>
                                -->
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="text-muted">From</label>
                                        <div class="date">
                                            <div class="inner-addon left-addon">
                                                <i class="glyphicon icon-calendar"></i>
                                                {{#datepicker startDate }}
                                                    <input type="text" class="form-control datepicker" size="8" name="from" />
                                                {{/datepicker}}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="text-muted">To</label>
                                        <div class="date">
                                            <div class="inner-addon left-addon">
                                                <i class="glyphicon icon-calendar"></i>
                                                {{#datepicker endDate }}
                                                    <input type="text" class="form-control datepicker" size="8" name="to"/>
                                                {{/datepicker}}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                                <p></p>
                            </div>
                            <div class="clearfix"></div>
                        </div>
                        <div class="row">
                            <div class="col-lg-12 bg_white mb">
                                <div class="col-md-12">
                                        {{#each filterInputs selectedReportType}}
                                          <div class="row sales-order ">
                                                      {{> SelectableOptions}}
                                          </div>
                                        {{/each}}
                                        <div class="">
                                            {{#if canAddLine}}
                                                <a type="button" href="#" class="btn btn-default add-btn">Add Filter</a>
                                            {{/if}}
                                            <a type="button" href="#" class="btn btn-success submit-btn">Refresh Report</a>
                                        </div>

                                </div>
                                <div class="clearfix"></div>
                                <p></p>
                            </div>
                            <div class="clearfix"></div>
                        </div>
                    </form>
                </div>
            </section>


            <div class="col-sm-12 chart sales-order-spaced">
                <canvas id="intelligenceSalesOrderReportCanvas" style="height: 235px;"></canvas>
            </div>

            <br /> <br />



            <div class="col-sm-12">
                <div class="extra-margin-bottom-10">
                    <a href="#" class="btn btn-default pull-right excel ladda-button"><span class="ladda-label"><i class="glyphicon glyphicon-download"></i> Export to CSV</span></a>
                    <a href="#" class="btn btn-default pull-right" name="reports-home"><i class="glyphicon glyphicon-signal"></i> Back to Home</a>
                    <br>
                </div>
                  
                <section class="">
                    <table class="table table-striped table-bordered table-responsive table-hover tr_pointer">
                        <thead>
                        <tr>
                            <td><a href="#sort" class="text-muted" data-key="label">{{selectedReportType}} <small><i class="{{sortedBy 'label'}}"></i></small></a></td>
                            <td><a href="#sort" class="text-muted" data-key="totalAmount">Gross Sales <small><i class="{{sortedBy 'totalAmount'}}"></i></small></a></td>
                            <td><a href="#sort" class="text-muted" data-key="average">Average Sales Per Order <small><i class="{{sortedBy 'average'}}"></i></small></a></td>
                            <td class="text-center"><a href="#sort" class="text-muted" data-key="count">No. Of Orders <small><i class="{{sortedBy 'count'}}"></i></small></a></td>
                        </tr>
                        </thead>
                        <tbody>
                        {{#each results}}
                            <tr class="order-entry">
                                <td><small>{{label}}</small></td>
                                <td><small>{{formatMoney totalAmount tenant.baseCurrency}}</small></td>
                                <td><small>{{formatMoney average tenant.baseCurrency}}</small></td>
                                <td class="text-center"><small>{{count}}</small></td>
                            </tr>
                        {{/each}}
                        <tr class="success">
                            <td><small><b>Total</b></small></td>
                            <td><small><b>{{formatMoney sumTotal.total  tenant.baseCurrency}}</b></small></td>
                            <td><small><b>{{formatMoney  sumTotal.average  tenant.baseCurrency}}</b></small></td>
                            <td class="text-center"><small><b>{{sumTotal.count}}</b></small></td>
                        </tr>
                        </tbody>
                    </table>
                </section>

            </div>
        </div>

    </div>
</template>

<template name="SelectableOptions">
    <div class="col-lg-2 col-md-3">
        <div class="form-group sel">
            <select class="form-control {{_id}} selected-field">
                <option value>Please Select</option>
                {{#each optionsForReportType}}
                    <option value="{{this}}">{{this}}</option>
                {{/each}}
            </select>
        </div>
    </div>
    {{#if selectedOption}}
    <div class="col-lg-6 col-md-7 input-group form-group ips">
        <div class="customer-search custom inner-addon left-addon">
            <i class="glyphicon glyphicon-search" title="Is" data-original-title="Is"></i>
            <input type="text" class="form-control search {{_id}}" size="8" name="filterValue" value="{{valueName}}" />
            <div id="divCustomerSearch" class="customer-search-result"></div>
        </div>
        <span class="input-group-btn">
            <button class="btn btn-danger delete-btn" type="button"><i class="glyphicon glyphicon-remove"></i> Remove</button>
        </span>
    </div>
    <!--<div class="col-lg-3 col-md-3 col-sm-4 col-xs-4">
      <div>
        <a href="#" class="btn btn-danger pull-right delete-btn"><i class="glyphicon glyphicon-remove"></i> Remove</a>
        <a href="#" class="delete-btn text-danger"><i class="glyphicon glyphicon-remove"></i></a> 
      </div>
    </div>-->
    {{/if}}
</template>
