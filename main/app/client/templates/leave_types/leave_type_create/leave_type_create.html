<template name="LeaveTypeCreate">
    <div class="modal fade add-unit" tabindex="-1" role="dialog" data-backdrop="static">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                {{#if Template.subscriptionsReady}}
                {{#autoForm collection="LeaveTypes" doc=this id=formType type=formAction }}
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">{{#if data}} Update Leave Type{{else}}Create Leave Types {{/if}}</h3>
                    </div>
                    <div class="panel-body">

                        <div class="row">
                            {{> afQuickField name='businessId' value=businessIdHelper type='hidden'}}

                            <div class="col-sm-3">
                                {{> afQuickField name="name" class="form-control" id="name"}}
                            </div><!-- col-sm-3 -->

                            <div class="col-sm-3">
                                {{> afQuickField name="gender" options=gender id="gender"}}
                            </div><!-- col-sm-3 -->

                            <div class="col-sm-3">
                                {{> afQuickField name="maximumDuration" id="maximumDuration"}}
                            </div><!-- col-sm-3 -->

                            <div class="col-sm-3">
                                {{> afQuickField name="payGradeIds" options=payGrades class="dropdown"}}
                            </div><!-- col-sm-3 -->

                            <!-- <div class="col-sm-3">
                                {{> afQuickField name="deductFrom" options=leaveTypes class="dropdown"}}
                            </div> -->
                        </div>

                        <div class="row">
                            <div class="col-sm-3">
                                {{> afQuickField name="positionIds" options=allowedPositions class="dropdown positions"}}
                                <!-- <div id="selectAllPositions" style="cursor: pointer;">
                                    <span><a>Select all positions</a></span>
                                </div> -->
                            </div><!-- col-sm-3 -->

                            <div class="col-sm-3">
                                {{> afQuickField name="status" options=status class="dropdown"}}
                            </div><!-- col-sm-3 -->

                            <div class="col-sm-3 check">
                                {{> afQuickField name="paid"}}
                            </div>

                            <div class="col-sm-3 check">
                                {{> afQuickField name="deductFromAnnualLeave"}}
                            </div>                            
                        </div>
                    </div>
                    <div class="panel-footer">
                        <button type="submit" class="btn btn-primary mr5" id="LeaveTypeCreate">Save</button>
                        <button type="reset" class="btn btn-danger" id="new-pay-type-close" data-dismiss="modal">Cancel</button>
                    </div><!-- panel-footer -->
                </div>
                {{/autoForm}}
                {{else}}
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">{{#if data}} Update Leave Type{{else}}Create Leave Types {{/if}}</h3>
                    </div>
        
                    <div class="panel-body">
                        <div class="col-sm-offset-5 col-sm-2">
                            {{> spinner}}
                        </div>
                    </div>

                    <div class="panel-footer">
                    </div>
                </div>
                {{/if}}
            </div>
        </div>
    </div>
</template>
